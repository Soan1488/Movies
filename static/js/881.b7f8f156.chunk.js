"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[881],{961:function(e,t,r){r.d(t,{Z:function(){return o}});var n="ShowMoreBtn_btn__L3mNF",s=r(184);function o(e){var t=e.onClick;return(0,s.jsx)("button",{type:"button",className:n,onClick:t,children:"Show More"})}},881:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var n=r(433),s=r(439),o=r(791),a=r(87),c=r(689),u=r(596),l=r(299),i=r.n(l),p={form:"Movies_form__4ow+Z",input:"Movies_input__KrUqs",btn:"Movies_btn__TlfBQ",list:"Movies_list__hqYjd",item:"Movies_item__Ba4aJ",link:"Movies_link__MzAfU",text:"Movies_text__FlKVm"},f=(r(462),r(327)),g=r(961),h=r(184);function m(){var e=(0,o.useState)([]),t=(0,s.Z)(e,2),r=t[0],l=t[1],m=(0,o.useState)(!1),d=(0,s.Z)(m,2),v=d[0],y=d[1],_=(0,o.useState)(1),x=(0,s.Z)(_,2),b=x[0],k=x[1],q=(0,o.useState)(!1),w=(0,s.Z)(q,2),Z=w[0],j=w[1],M=(0,a.lr)(),N=(0,s.Z)(M,2),S=N[0],E=N[1],C=(0,c.TH)();(0,o.useEffect)((function(){S.get("query")&&(y(!0),(0,f.Wf)(S.get("query"),b).then((function(e){var t=e.data,r=t.total_pages,s=t.results;s.length<=0?u.Am.error("Sorry, we can't find anything on your request ".concat(S.get("query")," ")):(l((function(e){return[].concat((0,n.Z)(e),(0,n.Z)(s))})),j(!(b>=r)))})).catch((function(e){return console.log(e)})).finally((function(){y(!1)})))}),[b,S]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==e.target.elements.search.value.trim()?e.target.elements.search.value.trim()!==S.get("query")?(E({query:e.target.elements.search.value.trim(" ")}),l([]),e.target.elements.search.value=""):u.Am.error("You already have a result for this query"):u.Am.error("Please, write a valid request")},className:p.form,children:[(0,h.jsx)("label",{className:p.label,children:(0,h.jsx)("input",{type:"text",name:"search",className:p.input,placeholder:"Enter your search"})}),(0,h.jsx)("button",{type:"submit",className:p.btn})]}),r.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("ul",{className:p.list,children:r.map((function(e){var t=e.id,r=e.original_title,n=e.poster_path;return(0,h.jsx)("li",{className:p.item,children:(0,h.jsxs)(a.rU,{className:p.link,to:"".concat(t),state:{from:C},children:[(0,h.jsx)("img",{src:"https://image.tmdb.org/t/p/w500//".concat(n),alt:r,width:"250"}),(0,h.jsx)("p",{className:p.text,children:r})]})},t)}))}),Z&&(0,h.jsx)(g.Z,{onClick:function(){k((function(e){return e+1}))}})]}),v&&(0,h.jsx)(i(),{size:80,"aria-label":"Loading Spinner","data-testid":"loader",color:"#36d7b7",cssOverride:{margin:"50px auto",display:"block"}})]})}},327:function(e,t,r){r.d(t,{M8:function(){return h},TP:function(){return f},Wf:function(){return i},tx:function(){return d},z5:function(){return u}});var n=r(861),s=r(757),o=r.n(s),a=r(388),c="0edadbafab79c4249d030320f49f37e6";function u(e){return l.apply(this,arguments)}function l(){return(l=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.Z)("https://api.themoviedb.org/3/movie/popular",{params:{api_key:c,page:t}});case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers)):e.t0.request?console.log(e.t0.request):console.log("Error",e.t0.message),console.log(e.t0.config);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function i(e,t){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.Z)("https://api.themoviedb.org/3/search/movie",{params:{api_key:c,query:t,page:r}});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers)):e.t0.request?console.log(e.t0.request):console.log("Error",e.t0.message),console.log(e.t0.config);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.Z)("https://api.themoviedb.org/3/movie/".concat(t),{params:{api_key:c}});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers)):e.t0.request?console.log(e.t0.request):console.log("Error",e.t0.message),console.log(e.t0.config);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.Z)("https://api.themoviedb.org/3/movie/".concat(t,"/credits"),{params:{api_key:c}});case 3:return r=e.sent,e.abrupt("return",r.data.cast);case 7:e.prev=7,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers)):e.t0.request?console.log(e.t0.request):console.log("Error",e.t0.message),console.log(e.t0.config);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function d(e){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.Z)("https://api.themoviedb.org/3/movie/".concat(t,"/reviews"),{params:{api_key:c}});case 3:return r=e.sent,e.abrupt("return",r.data.results);case 7:e.prev=7,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers)):e.t0.request?console.log(e.t0.request):console.log("Error",e.t0.message),console.log(e.t0.config);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=881.b7f8f156.chunk.js.map